function email_test(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}!function(){let i=[];var e,r=document.querySelectorAll("[data-da]");let s=[],o=[];if(0<r.length){let t=0;for(let e=0;e<r.length;e++){const f=r[e],_=f.getAttribute("data-da");if(""!=_){const v=_.split(",");var l=v[1]?v[1].trim():"last",n=v[2]?v[2].trim():"767",a="min"===v[3]?v[3].trim():"max",c=document.querySelector("."+v[0].trim());0<v.length&&c&&(f.setAttribute("data-da-index",t),i[t]={parent:f.parentNode,index:(c=f,Array.prototype.slice.call(c.parentNode.children).indexOf(c))},s[t]={element:f,destination:document.querySelector("."+v[0].trim()),place:l,breakpoint:n,type:a},t++)}}(e=s).sort(function(e,t){return e.breakpoint>t.breakpoint?-1:1}),e.sort(function(e,t){return e.place>t.place?1:-1});for(let e=0;e<s.length;e++){var u=s[e],d=u.breakpoint,u=u.type;o.push(window.matchMedia("("+u+"-width: "+d+"px)")),o[e].addListener(m)}}function m(e){for(let e=0;e<s.length;e++){var t=s[e];const l=t.element,n=t.destination;var r=t.place,t="_dynamic_adapt_"+t.breakpoint;if(o[e].matches){if(!l.classList.contains(t)){let e=p(n)[r];"first"===r?e=p(n)[0]:"last"===r&&(e=p(n)[p(n).length]),n.insertBefore(l,n.children[e]),l.classList.add(t)}}else l.classList.contains(t)&&(function(e){const t=e.getAttribute("data-da-index"),r=i[t],l=r.parent,n=r.index,s=p(l,!0)[n];l.insertBefore(e,l.children[s])}(l),l.classList.remove(t))}}function p(e,t){var r=e.children;const l=[];for(let e=0;e<r.length;e++){const n=r[e];(t||null==n.getAttribute("data-da"))&&l.push(e)}return l}m()}();let animItems=document.querySelectorAll("._anim-items");function animOnScroll(){for(var t=0;t<animItems.length;t++){const n=animItems[t];var r=n.offsetHeight,l=offset(n).top;let e=window.innerHeight-r/4;r>window.innerHeight&&(e=window.innerHeight-window.innerHeight/4),pageYOffset>l-e&&pageYOffset<l+r?n.classList.add("_active"):n.classList.contains("_anh")||n.classList.remove("_active")}}function offset(e){var t=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,e=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+e,left:t.left+r}}0<animItems.length&&(window.addEventListener("scroll",animOnScroll),setTimeout(()=>{animOnScroll()},300));var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function isIE(){return-1<(ua=navigator.userAgent).indexOf("MSIE ")||-1<ua.indexOf("Trident/")}function ibg(){if(isIE()){let e=document.querySelectorAll("._ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&null!=e[t].querySelector("img").getAttribute("src")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}}isIE()&&document.querySelector("body").classList.add("ie"),isMobile.any()&&document.querySelector("body").classList.add("_touch"),ibg(),document.querySelector(".wrapper")&&document.querySelector(".wrapper").classList.add("_loaded"),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);let forms=document.querySelectorAll("form");if(0<forms.length)for(let e=0;e<forms.length;e++){const oa=forms[e];oa.addEventListener("submit",form_submit)}function form_submit(e){let t=event.target,r=t.closest("form");var l=r.getAttribute("data-message");0==form_validate(r)?(form_clean(r),l&&(popup_open("message-"+l),e.preventDefault())):((e=r.querySelectorAll("._error"))&&r.classList.contains("_goto-error")&&_goto(e[0],1e3,50),event.preventDefault())}function form_validate(e){let t=0;var r=e.querySelectorAll("._req");if(0<r.length)for(let e=0;e<r.length;e++){var l=r[e];_is_hidden(l)||(t+=form_validate_input(l))}return t}function form_validate_input(e){let t=0;var r,l=e.getAttribute("data-value");return"email"==e.getAttribute("name")||e.classList.contains("_email")?(e.value!=l&&(r=e.value.replace(" ",""),e.value=r),email_test(e)||e.value==l?(form_add_error(e),t++):form_remove_error(e)):"checkbox"==e.getAttribute("type")&&0==e.checked||""==e.value||e.value==l?(form_add_error(e),t++):form_remove_error(e),t}function form_add_error(e){e.classList.add("_error"),e.parentElement.classList.add("_error");var t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t);t=e.getAttribute("data-error");t&&""!=t&&e.parentElement.insertAdjacentHTML("beforeend",'<div class="form__error">'+t+"</div>")}function form_remove_error(e){e.classList.remove("_error"),e.parentElement.classList.remove("_error");var t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t)}function form_clean(e){var t=e.querySelectorAll("input,textarea");for(let e=0;e<t.length;e++){const s=t[e];s.parentElement.classList.remove("_focus"),s.classList.remove("_focus"),s.value=s.getAttribute("data-value")}var r=e.querySelectorAll(".checkbox__input");if(0<r.length)for(let e=0;e<r.length;e++){const i=r[e];i.checked=!1}var l=e.querySelectorAll("select");if(0<l.length)for(let e=0;e<l.length;e++){const o=l[e];var n=o.getAttribute("data-default");o.value=n,select_item(o)}}let viewPass=document.querySelectorAll(".form__viewpass");for(let e=0;e<viewPass.length;e++){const Wa=viewPass[e];Wa.addEventListener("click",function(e){Wa.classList.contains("_active")?Wa.parentElement.querySelector("input").setAttribute("type","password"):Wa.parentElement.querySelector("input").setAttribute("type","text"),Wa.classList.toggle("_active")})}let selects=document.getElementsByTagName("select");function selects_init(){for(let e=0;e<selects.length;e++)select_init(selects[e]);document.addEventListener("click",function(e){selects_close(e)}),document.addEventListener("keydown",function(e){27==e.which&&selects_close(e)})}function selects_close(e){var t=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(let e=0;e<t.length;e++){const l=t[e];var r=l.querySelector(".select__options");l.classList.remove("_active"),_slideUp(r,100)}}function select_init(e){const t=e.parentElement;var r=e.getAttribute("class"),l=e.querySelector("option:checked");e.setAttribute("data-default",l.value),e.style.display="none",t.insertAdjacentHTML("beforeend",'<div class="select select_'+r+'"></div>');let n=e.parentElement.querySelector(".select");n.appendChild(e),select_item(e)}function select_item(e){const t=e.parentElement,r=t.querySelector(".select__item");var l=e.querySelectorAll("option"),n=e.querySelector("option:checked").text,s=e.getAttribute("data-type");r&&r.remove();let i="";i="input"==s?'<div class="select__value icon-select-arrow"><input autocomplete="off" type="text" name="form[]" value="'+n+'" data-error="Ошибка" data-value="'+n+'" class="select__input"></div>':'<div class="select__value icon-select-arrow"><span>'+n+"</span></div>",t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+i+'</div><div class="select__options">'+select_get_options(l)+"</div></div></div>"),select_actions(e,t)}function select_actions(r,l){const n=l.querySelector(".select__item");var s=l.querySelector(".select__options"),i=l.querySelectorAll(".select__option"),o=r.getAttribute("data-type");const a=l.querySelector(".select__input");n.addEventListener("click",function(){var t=document.querySelectorAll(".select");for(let e=0;e<t.length;e++){const l=t[e],s=l.querySelector(".select__options");l!=n.closest(".select")&&(l.classList.remove("_active"),_slideUp(s,100))}_slideToggle(s,100),l.classList.toggle("_active")});for(let e=0;e<i.length;e++){const d=i[e];var c=d.getAttribute("data-value"),u=d.innerHTML;"input"==o?a.addEventListener("keyup",select_search):d.getAttribute("data-value")==r.value&&(d.style.display="none"),d.addEventListener("click",function(){for(let e=0;e<i.length;e++){const t=i[e];t.style.display="block"}"input"==o?(a.value=u,r.value=c):(l.querySelector(".select__value").innerHTML="<span>"+u+"</span>",r.value=c,d.style.display="none")})}}function select_get_options(r){if(r){let t="";for(let e=0;e<r.length;e++){var l=r[e],n=l.value;""!=n&&(l=l.text,t=t+'<div data-value="'+n+'" class="select__option">'+l+"</div>")}return t}}function select_search(e){e.target.closest(".select ").querySelector(".select__options");var l=e.target.closest(".select ").querySelectorAll(".select__option"),n=e.target.value.toUpperCase();for(let r=0;r<l.length;r++){let e=l[r],t=e.textContent||e.innerText;-1<t.toUpperCase().indexOf(n)?e.style.display="":e.style.display="none"}}function selects_update_all(){var t=document.querySelectorAll("select");if(t)for(let e=0;e<t.length;e++)select_item(t[e])}0<selects.length&&selects_init();let sliders=document.querySelectorAll("._swiper");if(sliders){for(let e=0;e<sliders.length;e++){let l=sliders[e];if(!l.classList.contains("swiper-bild")){let r=l.children;if(r)for(let t=0;t<r.length;t++){let e=r[t];e.classList.add("swiper-slide")}let e=l.innerHTML,t=document.createElement("div");t.classList.add("swiper-wrapper"),t.innerHTML=e,l.innerHTML="",l.appendChild(t),l.classList.add("swiper-bild")}l.classList.contains("_gallery")}sliders_bild_callback()}function sliders_bild_callback(e){}if(document.querySelector(".blockSpots")){let e=new Swiper(".blockSpots__icons",{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,autoHeight:!0,speed:800,loop:!0,breakpoints:{320:{slidesPerView:4,spaceBetween:3,autoHeight:!0},768:{slidesPerView:8,spaceBetween:3},992:{slidesPerView:10,spaceBetween:3},1268:{slidesPerView:10,spaceBetween:3}}})}
